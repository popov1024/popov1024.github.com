<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Andrey Popov</title>
    <link>https://popov1024.github.io/</link>
    <description>Recent content on Andrey Popov</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ru-Ru</language>
    <copyright>&amp;copy; 2016. All rights reserved.</copyright>
    <lastBuildDate>Tue, 06 Sep 2016 00:00:00 +0300</lastBuildDate>
    <atom:link href="https://popov1024.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Простой веб-сервер на Logstash</title>
      <link>https://popov1024.github.io/post/prostoi-vieb-siervier-na-logstash/</link>
      <pubDate>Tue, 06 Sep 2016 00:00:00 +0300</pubDate>
      
      <guid>https://popov1024.github.io/post/prostoi-vieb-siervier-na-logstash/</guid>
      <description>&lt;pre&gt;&lt;code&gt;input {
    http {
    }
}
output {
    stdout { codec =&amp;gt; rubydebug }
}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Logstash input jbdc every seconds</title>
      <link>https://popov1024.github.io/post/logstash-input-jbdc-every-seconds/</link>
      <pubDate>Mon, 08 Aug 2016 00:00:00 +0300</pubDate>
      
      <guid>https://popov1024.github.io/post/logstash-input-jbdc-every-seconds/</guid>
      <description>&lt;p&gt;&lt;code&gt;schedule =&amp;gt; &amp;quot;* * * * * *&amp;quot;&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Скачивание зависимостей пакетов yum</title>
      <link>https://popov1024.github.io/post/skachivaniie-zavisimostiei-pakietov-yum/</link>
      <pubDate>Sun, 03 Jul 2016 00:00:00 +0300</pubDate>
      
      <guid>https://popov1024.github.io/post/skachivaniie-zavisimostiei-pakietov-yum/</guid>
      <description>&lt;p&gt;Столкнулся с необходимостью установки докера на целевой хост без доступа в интернет.&lt;/p&gt;

&lt;p&gt;Пазвернул посредство вагранта CentOS 7 и получил все пакеты (естественно прописав репозиторий докера):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo yum install --downloadonly --downloaddir=docker docker-engine
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Говорящий селектор класса в CSS!</title>
      <link>https://popov1024.github.io/post/govoriashchii-sieliektor-klassa-v-css/</link>
      <pubDate>Wed, 01 Jun 2016 00:00:00 +0300</pubDate>
      
      <guid>https://popov1024.github.io/post/govoriashchii-sieliektor-klassa-v-css/</guid>
      <description>&lt;pre&gt;&lt;code&gt;.titanic {float: none;}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>TeamCity 1C:Enterprise 8</title>
      <link>https://popov1024.github.io/post/teamcity-1c-enterprise-8/</link>
      <pubDate>Mon, 09 May 2016 00:00:00 +0300</pubDate>
      
      <guid>https://popov1024.github.io/post/teamcity-1c-enterprise-8/</guid>
      <description>

&lt;h3 id=&#34;преамбула&#34;&gt;Преамбула&lt;/h3&gt;

&lt;p&gt;Для автоматизации сборки конфигураций 1С:Предприятие 8 написал &lt;a href=&#34;https://github.com/popov1024/1CTeamCity&#34;&gt;скрипты&lt;/a&gt; на PowerShell для &lt;a href=&#34;https://www.jetbrains.com/teamcity/&#34;&gt;TeamCity&lt;/a&gt; (TC).&lt;/p&gt;

&lt;p&gt;Это уже не первый мой опыт: в текущее время использую написанный мною на Ant сценарий, который верой и правдой собирает для версии платформы 8.2.&lt;/p&gt;

&lt;p&gt;Что сподвигло к изменениям?&lt;/p&gt;

&lt;p&gt;Прежде всего это выход платформы 8.3.6 в которой появилась возможность подключать конфигурацию в хранилищу. Т.е. позволяет автоматизировать создания сборки с нуля новых проектов.&lt;/p&gt;

&lt;p&gt;Во-вторых, я организовал теперь все в виде шаблонов для TC с минимальным набором параметров сборки.&lt;/p&gt;

&lt;p&gt;Сам процесс сборки подразумевает следующий порядок хранения:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;...
builds\1.1.0\
builds\1.1.0\1.1.0.1
builds\1.1.0\1.1.0.2
builds\1.1.0\1.1.0.3
...
builds\1.1.1\
builds\1.1.0\1.1.0.3
builds\1.1.0\1.1.1.1
builds\1.1.0\1.1.1.2
builds\1.1.0\1.1.1.3
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;как-настраивать&#34;&gt;Как настраивать&lt;/h3&gt;

&lt;h5 id=&#34;создание-шаблона&#34;&gt;Создание шаблона&lt;/h5&gt;

&lt;p&gt;Я организовал все в виде шаблонов для корневого проекта.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://popov1024.github.io/content/images/2016/05/Root_project-1cTeamCity.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Данный шаблон содержит набор шагов сборки:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;создание (&lt;a href=&#34;https://github.com/popov1024/1CTeamCity/blob/master/Build/Create.ps1&#34;&gt;Build/Create.ps1&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;обновление (&lt;a href=&#34;https://github.com/popov1024/1CTeamCity/blob/master/Build/Update.ps1&#34;&gt;Build/Update.ps1&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;сама сборка (&lt;a href=&#34;https://github.com/popov1024/1CTeamCity/blob/master/Build/Build.ps1&#34;&gt;Build/Build.ps1&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Каждый шаг я сделал в следующем виде:
&lt;img src=&#34;https://popov1024.github.io/content/images/2016/05/1C83_Build_Template-1cTeamCity.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Я предпочитаю использовать тип сценария &lt;code&gt;Source code&lt;/code&gt;, так как в данном случае TC сам определяет все параметры сборки (указаны в виде шаблона %&amp;hellip;%) и проще вносить корректировки.&lt;/p&gt;

&lt;p&gt;Параметры можно определить значениями по умолчанию.
&lt;img src=&#34;https://popov1024.github.io/content/images/2016/05/1C83_Build_Template.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;настройка-агента&#34;&gt;Настройка агента&lt;/h4&gt;

&lt;p&gt;В настройках самого агента сборки я прописываю пути к исполняемым файлам платформы, которые в последствие используются в сценарии.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://popov1024.github.io/content/images/2016/05/Agent_Parameters-1cTeamCity.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Пример настройки агента &lt;code&gt;BuildAgent\conf\buildAgent.properties&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;env.1cbin_8_3=C:\\Program Files (x86)\\1cv8\\8.3.8.1652\\bin\\1cv8.exe
env.1cbin_8_3_8=C:\\Program Files (x86)\\1cv8\\8.3.8.1652\\bin\\1cv8.exe
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;создание-проекта&#34;&gt;Создание проекта&lt;/h4&gt;

&lt;p&gt;Теперь любой новый создаваемый проект сборки можно указать что он будет основан на необходимом шаблоне.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://popov1024.github.io/content/images/2016/05/Build_Configuration-1cTeamCity.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Все параметры можно переопределять в соотвествии с проектом.&lt;/p&gt;

&lt;p&gt;Если все сделано корректно, то процесс сборки будет сводиться к следующему виду.
&lt;img src=&#34;https://popov1024.github.io/content/images/2016/05/Projects-1cTeamCity.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Полученный артефакты в результате сборки (&lt;code&gt;1cv8.cf&lt;/code&gt; и &lt;code&gt;1cv8.cfu&lt;/code&gt;) в случае успеха добавятся к сборке.
&lt;img src=&#34;https://popov1024.github.io/content/images/2016/05/Build_-1cTeamCity.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Удобная маршрутизация Mikrotik (RouterOS)</title>
      <link>https://popov1024.github.io/post/udobnaia-marrutizatsiia-mikrotik/</link>
      <pubDate>Tue, 02 Feb 2016 00:00:00 +0300</pubDate>
      
      <guid>https://popov1024.github.io/post/udobnaia-marrutizatsiia-mikrotik/</guid>
      <description>

&lt;h4 id=&#34;задача&#34;&gt;Задача&lt;/h4&gt;

&lt;p&gt;Необходимо маршрутизировать несколько ip или подсетей по одному правилу.&lt;/p&gt;

&lt;h4 id=&#34;решение&#34;&gt;Решение&lt;/h4&gt;

&lt;p&gt;Вариант &amp;ldquo;в лоб&amp;rdquo; прописывать все это в таблице маршрутизации. Все хорошо работает, когда подсетей несколько, а когда их достигает десяток, да и еще вперемешку на разные шлюзы&amp;hellip;&lt;/p&gt;

&lt;p&gt;Благо RouterOS поддерживает работу со списками и маркировку пакетов.&lt;/p&gt;

&lt;p&gt;И так, создаем список &lt;code&gt;work&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/ip firewall address-list
add address=10.10.0.0/16 list=work
add address=192.168.1.0/24 list=work
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Делаем пометку &lt;code&gt;workt&lt;/code&gt; пакетов согласно данного списка &lt;code&gt;work&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/ip firewall mangle
add action=mark-routing chain=prerouting dst-address-list=work new-routing-mark=workt
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Собственно маршрутизация, согласно пометки &lt;code&gt;workt&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/ip route
add distance=1 gateway=vpn-work routing-mark=workt
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Теперь достаточно в список &lt;code&gt;work&lt;/code&gt; внести новый ip или подсеть, и он будет маршрутизироваться согласно правилам для этого листа.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Fix wi-fi bcm43xx in Ubuntu</title>
      <link>https://popov1024.github.io/post/fix-wi-fi-bcm43xx-in-ubuntu/</link>
      <pubDate>Sun, 27 Dec 2015 00:00:00 +0300</pubDate>
      
      <guid>https://popov1024.github.io/post/fix-wi-fi-bcm43xx-in-ubuntu/</guid>
      <description>&lt;pre&gt;&lt;code&gt;$ sudo apt-get purge bcmwl-kernel-source
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;$ sudo apt-get install --reinstall b43-fwcutter firmware-b43-installer
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Reboot&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>send sms from shell via mikrotik</title>
      <link>https://popov1024.github.io/post/2014-08-09-send-sms-from-shell-via-mikrotik/</link>
      <pubDate>Sat, 09 Aug 2014 00:00:00 +0000</pubDate>
      
      <guid>https://popov1024.github.io/post/2014-08-09-send-sms-from-shell-via-mikrotik/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://wiki.mikrotik.com/wiki/Use_SSH_to_execute_commands_(DSA_key_login&#34;&gt;http://wiki.mikrotik.com/wiki/Use_SSH_to_execute_commands_(DSA_key_login&lt;/a&gt;)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ssh router &#39;/tool sms send usb1 &amp;quot;+375XXXXXXXXXX&amp;quot; message=&amp;quot;Hello, world&amp;quot;&#39;
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>1C WSDL and fields order</title>
      <link>https://popov1024.github.io/post/2014-04-08-1c-wsdl-and-fields-order/</link>
      <pubDate>Tue, 08 Apr 2014 00:00:00 +0000</pubDate>
      
      <guid>https://popov1024.github.io/post/2014-04-08-1c-wsdl-and-fields-order/</guid>
      <description>&lt;p&gt;Столкнулся с особенностью 1С:Предприятие 8 в части валидации сообщений SOAP: порядок полей в ответе должен строго соответствовать порядку полей в описании. Иначе будут происходить ошибки вида:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Проверка свойства &#39;Foo&#39;:
	форма: Элемент
	имя: {http://xmlns.oracle.com/orawsv/WS/myws}Foo
	тип: {http://xmlns.oracle.com/orawsv/WS/myws}fooType
Не установлено значение одного из следующих свойств: Bar
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Для данного примера - не соответсве полей &lt;code&gt;Foo&lt;/code&gt; и &lt;code&gt;Bar&lt;/code&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>1C:Enterprise 8.2 x64 on IIS error</title>
      <link>https://popov1024.github.io/post/2014-03-03-1c-enterprise-8-dot-2-x64-on-iis-error/</link>
      <pubDate>Mon, 03 Mar 2014 00:00:00 +0000</pubDate>
      
      <guid>https://popov1024.github.io/post/2014-03-03-1c-enterprise-8-dot-2-x64-on-iis-error/</guid>
      <description>&lt;p&gt;Если на платформе 1С:Предприятие 8.2 x64 опубликованной на IIS в результате происходит ошибка вида:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Обнаружено потенциально опасное значение Request.Path, полученное от клиента (:).Описание: Необработанное исключение при выполнении текущего веб-запроса. Изучите трассировку стека для получения дополнительных сведений о данной ошибке и о вызвавшем ее фрагменте кода. 

Сведения об исключении: System.Web.HttpException: Обнаружено потенциально опасное значение Request.Path, полученное от клиента (:).
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;то она исправляется следующим способом в &lt;code&gt;Web.config&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;add name=&amp;quot;1c&amp;quot; path=&amp;quot;*&amp;quot; verb=&amp;quot;*&amp;quot; modules=&amp;quot;IsapiModule&amp;quot; scriptProcessor=&amp;quot;C:\Program Files\1cv82\8.2.18.104\bin\wsisapi.dll&amp;quot; resourceType=&amp;quot;Unspecified&amp;quot; preCondition=&amp;quot;bitness64&amp;quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ключевым параметром для исправления здесь является &lt;code&gt;preCondition=&amp;quot;bitness64&amp;quot;&lt;/code&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Обзор гаджетов #3 - Электронная сигарета Joyetech eGo-CC</title>
      <link>https://popov1024.github.io/post/2014-02-20-obzor-ghadzhietov-number-3-eliektronnaia-sigharieta-joyetech-ego-cc/</link>
      <pubDate>Thu, 20 Feb 2014 00:00:00 +0000</pubDate>
      
      <guid>https://popov1024.github.io/post/2014-02-20-obzor-ghadzhietov-number-3-eliektronnaia-sigharieta-joyetech-ego-cc/</guid>
      <description>&lt;p&gt;Уже месяц, как вместо курения обычных сигарет, «парю» электронную &lt;a href=&#34;http://www.joyetech.com/product/eGoCC.php&#34;&gt;eGo-CC&lt;/a&gt;.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Мысль о курение обычных уже в первый день была какой-то марозматичной&lt;/li&gt;
&lt;li&gt;Парить электронные гораздо удобней - не нужно никуда ходить, можно курить на рабочем месте, в машине или на ходу сделать пару тяг. Но тут и минус - если в дороге закончилась жижа или сел аккумулятор, то ,собственно говоря, все.&lt;/li&gt;
&lt;li&gt;Кроме выбора крепости, как в обычных сигаретах, можно выбирать еще и аромат.&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>Три вещи, которых жутко не хватает в 1С:Предприятие 8</title>
      <link>https://popov1024.github.io/post/2014-02-15-chto-ne-hvataet-v-1c/</link>
      <pubDate>Sat, 15 Feb 2014 00:00:00 +0000</pubDate>
      
      <guid>https://popov1024.github.io/post/2014-02-15-chto-ne-hvataet-v-1c/</guid>
      <description>&lt;ol&gt;
&lt;li&gt;Нормального scm.&lt;/li&gt;
&lt;li&gt;Рефакторинг.&lt;/li&gt;
&lt;li&gt;Регулярных выражений.&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>MacMini(Mid 2011)and RAM DDR3 1600</title>
      <link>https://popov1024.github.io/post/2014-01-18-macmini-and-ram-ddr3-1600/</link>
      <pubDate>Sat, 18 Jan 2014 00:00:00 +0000</pubDate>
      
      <guid>https://popov1024.github.io/post/2014-01-18-macmini-and-ram-ddr3-1600/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://popov1024.github.io/images/allposts/mac_mini_mid2011_ug_ru_copy___page_46_of_86_.png&#34; alt=&#34;Insert DDR3 1600 memory in MacMini(mid 2011)&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Мой MacMini (середина 2011), хоть и заявленна поддержка DDR3 1333 MHz, прекрасно работает с DDR3 1600 (PC3-12800 CL11 204-Pin SODIMM). Тестировал от вендора Kingston.&lt;/p&gt;

&lt;p&gt;Кстати, заявленные макисмум 8 Gb тоже не правда. 16 Gb вполне себя работоспособно чувствуют.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Эволюция дизайна MacPro</title>
      <link>https://popov1024.github.io/post/2014-01-18-evoliutsiia-dizaina-macpro/</link>
      <pubDate>Sat, 18 Jan 2014 00:00:00 +0000</pubDate>
      
      <guid>https://popov1024.github.io/post/2014-01-18-evoliutsiia-dizaina-macpro/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://popov1024.github.io/images/allposts/macpro-design.jpg&#34; alt=&#34;Mac Pro design&#34; /&gt;&lt;/p&gt;

&lt;p&gt;У Mac Pro самая интересная история развития.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>My iOS Life</title>
      <link>https://popov1024.github.io/post/2014-01-07-my-ios-life/</link>
      <pubDate>Tue, 07 Jan 2014 00:00:00 +0000</pubDate>
      
      <guid>https://popov1024.github.io/post/2014-01-07-my-ios-life/</guid>
      <description>&lt;p&gt;На выходных занялся разбором и бекапом фоточек. Заметил, что с iPhone накопилось очень много скрншотов, как случайных, так и несущих определенный смысл.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://24.media.tumblr.com/d572045390b505d7e7302192f69414e8/tumblr_mz04rbJsAH1tp5hr1o1_1280.png&#34; alt=&#34;youtube end &amp;amp; start&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Решил, что не нужно пропадать добру и выложил на &lt;a href=&#34;http://www.tumblr.com/&#34;&gt;тумблер&lt;/a&gt; в отдельный блог &lt;a href=&#34;http://myioslife.ander.mobi&#34;&gt;My iOS Life&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>